<!DOCTYPE html>
<html>
<head>
    <!--옵셔널 체이닝 '?.'-->
    <meta charset='utf-8'>
    <link rel="stylesheet" href="taskCSS_1.css" type="text/css">
</head>

<body>
    <script>
        // ?.은 앞의 평가 대상이 undefined나 null이면 평가를 멈추고 undefined를 반환.
        // 옵셔널 체이닝 '?.'의 사용 목적 : 
        // 프로퍼티가 없는 중첩 객체를 에러 없이 안전하게 접근 가능
        // 즉, 존재하지 않는 요소에 접근할 때의 에러 방지.

        // 예시
        let user = {name: stadia};
        alert(user.address.street);  // TypeError: Cannot read properties of undefined (reading 'street')

        function exam1() {
            let user = {address: 2,};
            alert( user && user.address && user.address.street );  // undefined //옵셔널 체이닝 추가 전의 처리 방법
            
            alert(user?.address?.street);  // undefined
        }

        // ?.은 앞 평가대상에서만 동작
        function exam2() {
            let user1 = {
                address: {
                    street: 'A street',
                },
            };
            alert(user1.address.street);  // A street
            alert(user1.name?.lastName);  // undefined
            alert(user1.address?.newAddress);  // undefined
            alert(user1?.address.newAddress);  // undefined
            let user2 = {}; // 주소 정보가 없는 사용자

            alert( user2?.address?.street ); // undefined, 에러가 발생하지 않습니다.
        }

        function exam3() {
            let user1 = {}; 
            alert(user1?.address.street);  // Error
            alert(user1?.address?.street);  // undefined
        }



    </script>

    <a href="#" onclick="exam1();">#1</a>
    <a href="#" onclick="exam2();">#2</a>
    <a href="#" onclick="exam3();">#3</a>

</body>
</html>